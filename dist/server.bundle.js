(()=>{var e={45:e=>{var t={kind:"Document",definitions:[{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"Query"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"_empty"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"Mutation"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"_empty"},arguments:[],type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}]},{kind:"SchemaDefinition",directives:[],operationTypes:[{kind:"OperationTypeDefinition",operation:"query",type:{kind:"NamedType",name:{kind:"Name",value:"Query"}}},{kind:"OperationTypeDefinition",operation:"mutation",type:{kind:"NamedType",name:{kind:"Name",value:"Mutation"}}}]}],loc:{start:0,end:214}};t.loc.source={body:"# type Query {\n#   helloWorld: String!\n# }\n\n# type Mutation {\n#   hello(msg: String!): Bool!\n# }\n\ntype Query {\n  _empty: String\n}\n\ntype Mutation {\n  _empty: String\n}\n\nschema {\n  query: Query\n  mutation: Mutation\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=t},515:e=>{var t={kind:"Document",definitions:[{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"Todo"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"id"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"userId"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"title"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"isCompleted"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}]},{kind:"ObjectTypeDefinition",name:{kind:"Name",value:"SearchTodoResponse"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"page"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"pageSize"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"totalPages"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"total"},arguments:[],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"todos"},arguments:[],type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Todo"}}}}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"SearchTodoParams"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"title"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"isCompleted"},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"CreateTodoPayload"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"userId"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"title"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"isCompleted"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}]},{kind:"InputObjectTypeDefinition",name:{kind:"Name",value:"UpdateTodoPayload"},directives:[],fields:[{kind:"InputValueDefinition",name:{kind:"Name",value:"title"},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"isCompleted"},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}]},{kind:"ObjectTypeExtension",name:{kind:"Name",value:"Query"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"searchTodos"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"userId"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"searchParams"},type:{kind:"NamedType",name:{kind:"Name",value:"SearchTodoParams"}},directives:[]}],type:{kind:"NamedType",name:{kind:"Name",value:"SearchTodoResponse"}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"getTodo"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Todo"}}},directives:[]}]},{kind:"ObjectTypeExtension",name:{kind:"Name",value:"Mutation"},interfaces:[],directives:[],fields:[{kind:"FieldDefinition",name:{kind:"Name",value:"createTodo"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"payload"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateTodoPayload"}}},directives:[]}],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Todo"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"updateTodo"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"InputValueDefinition",name:{kind:"Name",value:"payload"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateTodoPayload"}}},directives:[]}],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Todo"}}},directives:[]},{kind:"FieldDefinition",name:{kind:"Name",value:"deleteTodo"},arguments:[{kind:"InputValueDefinition",name:{kind:"Name",value:"id"},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}]}],loc:{start:0,end:718}};t.loc.source={body:"type Todo {\n  id: Int!\n  userId: Int!\n  title: String!\n  isCompleted: Boolean!\n}\n\ntype SearchTodoResponse {\n  page: Int!\n  pageSize: Int!\n  totalPages: Int!\n  total: Int!\n  todos: [Todo!]!\n}\n\ninput SearchTodoParams {\n  id: Int\n  title: String\n  isCompleted: Boolean\n}\n\ninput CreateTodoPayload {\n  userId: Int!\n  title: String!\n  isCompleted: Boolean!\n}\n\ninput UpdateTodoPayload {\n  title: String\n  isCompleted: Boolean\n}\n\nextend type Query {\n  searchTodos(userId: Int!, searchParams: SearchTodoParams): SearchTodoResponse\n  getTodo(id: Int!): Todo!\n}\n\nextend type Mutation {\n  createTodo(payload: CreateTodoPayload!): Todo!\n  updateTodo(id: Int!, payload: UpdateTodoPayload!): Todo!\n  deleteTodo(id: Int!): Boolean!\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}},e.exports=t},752:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(i(860)),o=n(i(582)),d=i(627),r=n(i(878)),s=n(i(5)),u=(0,a.default)();u.use((0,o.default)({origin:(0,d.getEnv)("CORS_ORIGIN")})),u.use(a.default.urlencoded({extended:!1})),u.use(a.default.json()),u.use("/api",s.default),u.use(r.default),t.default=u},627:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=t.loadEnv=void 0;const a=n(i(147)),o=n(i(17)),d=n(i(142)),r=n(i(294)),s=[o.default.resolve("..",".env.production.local"),o.default.resolve("..",".env.local"),o.default.resolve("..",".env.production"),o.default.resolve("..",".env")].filter(Boolean);t.loadEnv=()=>{s.forEach((e=>{a.default.existsSync(e)&&(0,r.default)(d.default.config({path:e}))}))},t.getEnv=(e,t)=>{const i=process.env[e]||t;if(!i)throw new Error(`Environment variable named "${e}" is not defined.`);return i}},731:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(e,t){super(e),this.statusCode=t}}t.default=i},140:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PAGE_SIZE=t.DEFAULT_PAGE=void 0,t.DEFAULT_PAGE=1,t.DEFAULT_PAGE_SIZE=5},446:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RECORD_NOT_FOUND=void 0;const a=n(i(731));t.RECORD_NOT_FOUND=new a.default("Record is not found",404)},735:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTodo=t.getTodo=t.updateTodo=t.verifyTodoId=t.createTodo=t.searchTodos=void 0;const a=i(140),o=n(i(731)),d=i(446),r=i(838),s=n(i(463)),u=i(410),l=i(555);t.searchTodos=async(e,t,i)=>{try{const{userId:i,id:n,isCompleted:o,title:d,page:u=a.DEFAULT_PAGE,pageSize:l=a.DEFAULT_PAGE_SIZE}=(e=>{const{userId:t,id:i,isCompleted:n,title:a,page:o,pageSize:d}=e;return{userId:Boolean(t)?Number(t):void 0,id:Boolean(i)?Number(i):void 0,title:Boolean(a)?String(a):void 0,isCompleted:Boolean(n)?"true"===n:void 0,page:Boolean(o)?Number(o):void 0,pageSize:Boolean(d)?Number(d):void 0}})(e.query),p={userId:i,id:n,isCompleted:o,title:{contains:d,mode:"insensitive"}},c=await s.default.todo.count({where:p});if(0===c)return t.json({data:{total:c,totalPages:0,page:u,pageSize:l,data:[]}});const{skip:m,take:f,totalPages:y}=(0,r.getPagination)(c,u,l),v=await s.default.todo.findMany({where:p,skip:m,take:f});return t.json({data:{total:c,totalPages:y,page:u,pageSize:l,data:v}})}catch(e){i(e)}},t.createTodo=async(e,t,i)=>{try{console.log("validate('CreateTodoInput')",(0,u.validate)("CreateTodoInput"));const i=(0,l.validateRawData)((0,u.validate)("CreateTodoInput"),e.body);if(console.log("data",i),!await s.default.user.findUnique({where:{id:i.userId}}))throw new o.default("User is not found",404);const n=await s.default.todo.create({data:i});return t.json(n)}catch(e){i(e)}},t.verifyTodoId=async(e,t,i)=>{const n=Number(e.params.id);return n?await s.default.todo.findUnique({where:{id:n}})?void i():i(d.RECORD_NOT_FOUND):i(new o.default("Wrong ID provided.",400))},t.updateTodo=async(e,t,i)=>{try{const i=Number(e.params.id),{title:n,isCompleted:a}=e.body,o=await s.default.todo.update({data:{title:n,isCompleted:a},where:{id:i}});return t.json(o)}catch(e){i(e)}},t.getTodo=async(e,t,i)=>{try{const i=Number(e.params.id),n=await s.default.todo.findUnique({where:{id:i}});return t.json(n)}catch(e){i(e)}},t.deleteTodo=async(e,t,i)=>{try{const i=Number(e.params.id);return await s.default.todo.delete({where:{id:i}}),t.json({message:"Request successfully."})}catch(e){i(e)}}},410:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.Schema=t.ajv=void 0;const a=n(i(888));t.ajv=new a.default({allErrors:!0,coerceTypes:!1,format:"fast",nullable:!0,unicode:!0,uniqueItems:!0,useDefaults:!0}),t.ajv.addMetaSchema(i(808)),t.Schema={$id:"./src/controllers/todo/todo.controller.types.ts",$schema:"http://json-schema.org/draft-07/schema#",definitions:{CreateTodoInput:{additionalProperties:!1,defaultProperties:[],properties:{isCompleted:{type:"boolean"},title:{type:"string"},userId:{type:"number"}},required:["isCompleted","title","userId"],type:"object"}}},t.ajv.addSchema(t.Schema,"Schema"),t.validate=function(e){const i=t.ajv.getSchema(`Schema#/definitions/${e}`);return n=>{if(!i)throw new Error(`No validator defined for Schema#/definitions/${e}`);if(!i(n))throw new Error("Invalid "+e+": "+t.ajv.errorsText(i.errors.filter((e=>"if"!==e.keyword)),{dataVar:e}));return n}}},74:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(797),a=i(555);class o extends n.RESTDataSource{logOrThrowValidationError(e,t){try{return(0,a.validateRawData)(e,t)}catch(e){throw console.warn(this.context.headers,e.message),e}}}t.default=o},393:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a={TodoAPI:new(n(i(359)).default)};t.default=a},359:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(627),o=n(i(74)),d=i(575);class r extends o.default{constructor(){super(),this.baseURL=`${(0,a.getEnv)("ITASK_API_URL")}/api/v1/todos`}async searchTodos(e,t){return this.logOrThrowValidationError((0,d.validate)("SearchTodosResponse"),await this.get("/",{...t,userId:e})).data}async createTodo(e){return this.logOrThrowValidationError((0,d.validate)("CreateTodoResponse"),await this.post("/",e))}async getTodo(e){return this.logOrThrowValidationError((0,d.validate)("GetTodoResponse"),await this.get(`/${e}`))}async updateTodo(e,t){return this.logOrThrowValidationError((0,d.validate)("UpdateTodoResponse"),await this.patch(`/${e}`,t))}async deleteTodo(e){return await this.delete(`/${e}`),!0}}t.default=r},575:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validate=t.Schema=t.ajv=void 0;const a=n(i(888));t.ajv=new a.default({allErrors:!0,coerceTypes:!1,format:"fast",nullable:!0,unicode:!0,uniqueItems:!0,useDefaults:!0}),t.ajv.addMetaSchema(i(808)),t.Schema={$id:"./src/datasources/todo/todo.api.types.ts",$schema:"http://json-schema.org/draft-07/schema#",definitions:{CreateTodoResponse:{additionalProperties:!1,defaultProperties:[],properties:{__typename:{enum:["Todo"],type:"string"},id:{type:"number"},isCompleted:{type:"boolean"},title:{type:"string"},userId:{type:"number"}},required:["id","isCompleted","title","userId"],type:"object"},GetTodoResponse:{additionalProperties:!1,defaultProperties:[],properties:{__typename:{enum:["Todo"],type:"string"},id:{type:"number"},isCompleted:{type:"boolean"},title:{type:"string"},userId:{type:"number"}},required:["id","isCompleted","title","userId"],type:"object"},SearchTodosResponse:{additionalProperties:!1,defaultProperties:[],properties:{data:{additionalProperties:!1,defaultProperties:[],properties:{data:{items:{additionalProperties:!1,defaultProperties:[],properties:{__typename:{enum:["Todo"],type:"string"},id:{type:"number"},isCompleted:{type:"boolean"},title:{type:"string"},userId:{type:"number"}},required:["id","isCompleted","title","userId"],type:"object"},type:"array"},page:{type:"number"},pageSize:{type:"number"},total:{type:"number"},totalPages:{type:"number"}},required:["data","page","pageSize","total","totalPages"],type:"object"}},required:["data"],type:"object"},UpdateTodoResponse:{additionalProperties:!1,defaultProperties:[],properties:{__typename:{enum:["Todo"],type:"string"},id:{type:"number"},isCompleted:{type:"boolean"},title:{type:"string"},userId:{type:"number"}},required:["id","isCompleted","title","userId"],type:"object"}}},t.ajv.addSchema(t.Schema,"Schema"),t.validate=function(e){const i=t.ajv.getSchema(`Schema#/definitions/${e}`);return n=>{if(!i)throw new Error(`No validator defined for Schema#/definitions/${e}`);if(!i(n))throw new Error("Invalid "+e+": "+t.ajv.errorsText(i.errors.filter((e=>"if"!==e.keyword)),{dataVar:e}));return n}}},878:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(i(645));t.default=(e,t,i,n)=>{a.default.error(e);const o=e.message||"Something went wrong.",d=e.statusCode||500;return i.status(d).json({message:o})}},5:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(860),o=n(i(842)),d=(0,a.Router)({caseSensitive:!0});d.use("/v1",o.default),t.default=d},842:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(860),o=n(i(656)),d=n(i(271)),r=(0,a.Router)({caseSensitive:!0});r.use("/users",o.default),r.use("/todos",d.default),t.default=r},271:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(860),a=i(735),o=(0,n.Router)({caseSensitive:!0});o.get("/",a.searchTodos),o.post("/",a.createTodo),o.get("/:id",a.verifyTodoId,a.getTodo),o.patch("/:id",a.verifyTodoId,a.updateTodo),o.delete("/:id",a.verifyTodoId,a.deleteTodo),t.default=o},656:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=(0,i(860).Router)({caseSensitive:!0});n.get("/:userId/todos",((e,t)=>{const i=new URLSearchParams({...e.query,userId:e.params.userId});return t.redirect(`/api/v1/todos?${i}`)})),t.default=n},950:function(e,t,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return a(t,e),t},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolvers=t.typeDefs=void 0;const r=i(626),s=d(i(45)),u=o(i(309));t.typeDefs=[s.default,u.typeDefs],t.resolvers=[u.resolvers];const l=(0,r.makeExecutableSchema)({typeDefs:t.typeDefs,resolvers:t.resolvers});t.default=l},309:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.typeDefs=t.resolvers=void 0;const a=i(155);Object.defineProperty(t,"resolvers",{enumerable:!0,get:function(){return a.resolvers}});const o=n(i(515));t.typeDefs=o.default},155:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvers=void 0;const n=i(555);t.resolvers={Query:{searchTodos:async(e,{userId:t,searchParams:i},{dataSources:a})=>{const{page:o,pageSize:d,totalPages:r,total:s,data:u}=await a.TodoAPI.searchTodos(t,(0,n.removeNullableProperties)(i));return{page:o,pageSize:d,totalPages:r,total:s,todos:u}},getTodo:(e,{id:t},{dataSources:i})=>i.TodoAPI.getTodo(t)},Mutation:{createTodo:(e,{payload:t},{dataSources:i})=>i.TodoAPI.createTodo(t),updateTodo:(e,{id:t,payload:i},{dataSources:a})=>{const o=(0,n.removeNullableProperties)(i);return a.TodoAPI.updateTodo(t,o)},deleteTodo:(e,{id:t},{dataSources:i})=>i.TodoAPI.deleteTodo(t)}}},728:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(55),o=i(342),d=n(i(685)),r=n(i(752)),s=i(627),u=n(i(393)),l=n(i(950));(0,s.loadEnv)();const p=d.default.createServer(r.default),c=[(0,o.ApolloServerPluginDrainHttpServer)({httpServer:p}),o.ApolloServerPluginLandingPageDisabled].filter(Boolean);!async function(e,t){const i=new a.ApolloServer(e);await i.start(),i.applyMiddleware({app:t});const n=Number((0,s.getEnv)("PORT","4000")),o=(0,s.getEnv)("ITASK_API_URL");await new Promise((e=>p.listen({port:n},e))),console.log(`🚀 Server ready at ${o}${i.graphqlPath}`)}({schema:l.default,dataSources:()=>u.default,plugins:c,nodeEnv:"production",context:({req:e})=>({headers:e.headers})},r.default)},555:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNullableProperties=t.validateRawData=void 0,t.validateRawData=function(e,t){try{return e(t)}catch(e){throw e}},t.removeNullableProperties=e=>Object.fromEntries(Object.entries(e||{}).filter((([e,t])=>null!=t)))},645:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=new class{constructor(){this.log=(...e)=>this.execute("log",...e),this.error=(...e)=>this.execute("error",...e),this.warn=(...e)=>this.execute("warn",...e),this.info=(...e)=>this.execute("info",...e)}execute(e,...t){}};t.default=i},838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paginate=t.getPagination=void 0,t.getPagination=(e,t,i)=>({skip:(t-1)*i,take:i,totalPages:Math.ceil(e/i)}),t.paginate=(e,t,i)=>{const n=e.length,a=(t-1)*i,o=t*i;return{total:n,totalPages:Math.ceil(n/i),page:t,pageSize:i,items:e.slice(a,o)}}},463:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new(i(524).PrismaClient);t.default=n},626:e=>{"use strict";e.exports=require("@graphql-tools/schema")},524:e=>{"use strict";e.exports=require("@prisma/client")},888:e=>{"use strict";e.exports=require("ajv")},808:e=>{"use strict";e.exports=require("ajv/lib/refs/json-schema-draft-06.json")},797:e=>{"use strict";e.exports=require("apollo-datasource-rest")},342:e=>{"use strict";e.exports=require("apollo-server-core")},55:e=>{"use strict";e.exports=require("apollo-server-express")},582:e=>{"use strict";e.exports=require("cors")},142:e=>{"use strict";e.exports=require("dotenv")},294:e=>{"use strict";e.exports=require("dotenv-expand")},860:e=>{"use strict";e.exports=require("express")},147:e=>{"use strict";e.exports=require("fs")},685:e=>{"use strict";e.exports=require("http")},17:e=>{"use strict";e.exports=require("path")}},t={};!function i(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}(728)})();